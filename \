import re

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from functions import *


site = "https://shopee.vn/Giày-Dép-Nam-cat.11035801"
driver = webdriver.Chrome()

driver.get(site)
# web load hết thì mới có đủ content
close_popup(driver)

page_body = driver.find_element(By.TAG_NAME, "body")
for _ in range(50):
    page_body.send_keys(Keys.PAGE_DOWN)

divs = scrape_result_box(driver)
# a_tags = page_body.find_elements(By.CLASS_NAME, "home-category-list__category-grid")

# for a_tag in a_tags:
#     pattern = r"cat.[0-9]+"
#     link = a_tag.get_attribute("href")
#     
#     match = re.search(pattern, link)
#     print(f"Match start: {match.start()}\nmatch end: {match.end()}")
#     print(link[match.start():match.end()])
#
driver.quit()
